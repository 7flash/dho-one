(function(t){function e(e){for(var a,o,i=e[0],c=e[1],l=e[2],u=0,d=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var i=n[o];0!==s[i]&&(a=!1)}a&&(r.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},o={3:0},s={3:0},r=[];function i(t){return c.p+"js/"+({1:"chunk-common"}[t]||t)+"."+{1:"30ce94f3",2:"d876911b",4:"7b5d94c6",5:"7629807a",6:"5d81de72",7:"19c09202",8:"49c8a401",9:"128a31b4",10:"bbc8361e",11:"6f8effc0",12:"b67fefb5",13:"951e48d6",14:"d7c55fc8",15:"370fcf33",16:"c4c50ab1",17:"6256ab15",18:"cf0ed8c5",19:"76c3ae55",20:"1032f386"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={1:1,2:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var a="css/"+({1:"chunk-common"}[t]||t)+"."+{1:"2422deeb",2:"c8271b42",4:"7135583f",5:"b7f4cb5d",6:"ca9518e6",7:"1a1c1138",8:"a9cbcd57",9:"517cb7f9",10:"21cbe756",11:"b689c4de",12:"da7f1d65",13:"552ab0c0",14:"b5612c8c",15:"579548eb",16:"b53b03fe",17:"30c56ac8",18:"31d6cfe0",19:"31d6cfe0",20:"31d6cfe0"}[t]+".css",s=c.p+a,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var l=r[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===s))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===a||u===s)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||s,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete o[t],p.parentNode.removeChild(p),n(r)},p.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){o[t]=0})));var a=s[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,n){a=s[t]=[e,n]}));e.push(a[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}s[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;r.push([1,0]),n()})({0:function(t,e){},1:function(t,e,n){t.exports=n("2f39")},10:function(t,e){},11:function(t,e){},12:function(t,e){},"17b3":function(t,e){},2:function(t,e){},"265f":function(t,e){},"2f39":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"isAuthenticated",(function(){return Tt})),n.d(a,"isMember",(function(){return At})),n.d(a,"isEnroller",(function(){return xt})),n.d(a,"isAdmin",(function(){return Pt})),n.d(a,"account",(function(){return St})),n.d(a,"loading",(function(){return Dt}));var o={};n.r(o),n.d(o,"setLoadingWallet",(function(){return kt})),n.d(o,"setAccount",(function(){return qt})),n.d(o,"clearAccount",(function(){return It})),n.d(o,"setMembership",(function(){return Rt})),n.d(o,"setEnroller",(function(){return Ct})),n.d(o,"setAdmin",(function(){return Ut}));var s={};n.r(s),n.d(s,"lightWalletLogin",(function(){return Nt})),n.d(s,"loginWallet",(function(){return Vt})),n.d(s,"loginInApp",(function(){return Et})),n.d(s,"logout",(function(){return Ft})),n.d(s,"autoLogin",(function(){return Bt})),n.d(s,"isAccountFree",(function(){return Wt})),n.d(s,"sendOTP",(function(){return jt})),n.d(s,"verifyOTP",(function(){return Mt})),n.d(s,"checkMembership",(function(){return Ht})),n.d(s,"checkPermissions",(function(){return Jt}));var r={};n.r(r),n.d(r,"applicants",(function(){return Kt})),n.d(r,"applicantsLoaded",(function(){return Qt}));var i={};n.r(i),n.d(i,"addApplicants",(function(){return Yt})),n.d(i,"clearData",(function(){return Zt})),n.d(i,"removeApplicant",(function(){return Xt}));var c={};n.r(c),n.d(c,"fetchData",(function(){return te})),n.d(c,"enroll",(function(){return ee}));var l={};n.r(l),n.d(l,"proposals",(function(){return oe})),n.d(l,"assignments",(function(){return se})),n.d(l,"userAssignments",(function(){return re}));var u={};n.r(u),n.d(u,"clearProposals",(function(){return ie})),n.d(u,"addProposals",(function(){return ce})),n.d(u,"removeProposal",(function(){return le})),n.d(u,"clearAssignments",(function(){return ue})),n.d(u,"addAssignments",(function(){return de})),n.d(u,"addUserAssignments",(function(){return pe}));var d={};n.r(d),n.d(d,"loadProposals",(function(){return he})),n.d(d,"saveAssignmentProposal",(function(){return me})),n.d(d,"loadAssignments",(function(){return ge})),n.d(d,"loadUserAssignments",(function(){return be})),n.d(d,"claimAssignmentPayment",(function(){return ye})),n.d(d,"suspendAssignment",(function(){return ve})),n.d(d,"withdrawFromAssignment",(function(){return we}));var p={};n.r(p),n.d(p,"proposals",(function(){return Te})),n.d(p,"badges",(function(){return Ae})),n.d(p,"badgeAssignmentLoading",(function(){return xe})),n.d(p,"badgeAssignments",(function(){return Pe}));var f={};n.r(f),n.d(f,"clearProposals",(function(){return Se})),n.d(f,"addProposals",(function(){return De})),n.d(f,"removeProposal",(function(){return ke})),n.d(f,"clearBadges",(function(){return qe})),n.d(f,"addBadges",(function(){return Ie})),n.d(f,"setBadgeAssignmentLoading",(function(){return Re})),n.d(f,"addBadgeAssignments",(function(){return Ce}));var h={};n.r(h),n.d(h,"saveBadgeProposal",(function(){return Ue})),n.d(h,"loadProposals",(function(){return Le})),n.d(h,"loadBadgeAssignmentProposals",(function(){return Oe})),n.d(h,"loadBadges",(function(){return Ne})),n.d(h,"loadBadge",(function(){return Ve})),n.d(h,"saveBadgeAssignmentProposal",(function(){return Ee})),n.d(h,"loadBadgeAssignments",(function(){return Fe}));var m={};n.r(m),n.d(m,"ballots",(function(){return Me})),n.d(m,"supplyLoading",(function(){return He})),n.d(m,"supply",(function(){return Je}));var g={};n.r(g),n.d(g,"addBallot",(function(){return Ge})),n.d(g,"setUserVote",(function(){return ze})),n.d(g,"setSupplyLoading",(function(){return Ke})),n.d(g,"setSupply",(function(){return Qe}));var b={};n.r(b),n.d(b,"getSupply",(function(){return Ye})),n.d(b,"fetchBallot",(function(){return Ze})),n.d(b,"castVote",(function(){return Xe})),n.d(b,"getUserVote",(function(){return tn})),n.d(b,"getUsersVote",(function(){return en}));var y={};n.r(y),n.d(y,"closeDocumentProposal",(function(){return rn}));var v={};n.r(v),n.d(v,"isShowRightSidebar",(function(){return un})),n.d(v,"rightSidebarType",(function(){return dn})),n.d(v,"contentData",(function(){return pn})),n.d(v,"breadcrumbs",(function(){return fn})),n.d(v,"alert",(function(){return hn}));var w={};n.r(w),n.d(w,"setRightSidebarType",(function(){return mn})),n.d(w,"setShowRightSidebar",(function(){return gn})),n.d(w,"setBreadcrumbs",(function(){return bn})),n.d(w,"setAlert",(function(){return yn})),n.d(w,"dismissAlert",(function(){return vn}));var _={};n.r(_),n.d(_,"loadAlert",(function(){return _n})),n.d(_,"saveAlert",(function(){return $n})),n.d(_,"removeAlert",(function(){return Tn}));var $={};n.r($),n.d($,"isRegistered",(function(){return Pn})),n.d($,"members",(function(){return Sn}));var T={};n.r(T),n.d(T,"setRegistered",(function(){return Dn})),n.d(T,"clearMembers",(function(){return kn})),n.d(T,"addMembers",(function(){return qn}));var A={};n.r(A),n.d(A,"checkRegistration",(function(){return In})),n.d(A,"apply",(function(){return Rn})),n.d(A,"fetchApplication",(function(){return Cn})),n.d(A,"loadMembers",(function(){return Un}));var x={};n.r(x),n.d(x,"getHyphaProposals",(function(){return En})),n.d(x,"getSeedsProposals",(function(){return Fn})),n.d(x,"approve",(function(){return Bn})),n.d(x,"unapprove",(function(){return Wn})),n.d(x,"execute",(function(){return jn})),n.d(x,"cancel",(function(){return Mn}));var P={};n.r(P),n.d(P,"notifications",(function(){return Gn})),n.d(P,"successCount",(function(){return zn})),n.d(P,"errorCount",(function(){return Kn}));var S={};n.r(S),n.d(S,"getObjectByScopeAndId",(function(){return na}));var D={};n.r(D),n.d(D,"payments",(function(){return sa})),n.d(D,"paymentsLoaded",(function(){return ra}));var k={};n.r(k),n.d(k,"addPayments",(function(){return ia})),n.d(k,"addOpenRedemptions",(function(){return ca})),n.d(k,"clearData",(function(){return la})),n.d(k,"clearRedemptions",(function(){return ua}));var q={};n.r(q),n.d(q,"fetchData",(function(){return da})),n.d(q,"countPayments",(function(){return pa})),n.d(q,"loadPayments",(function(){return fa})),n.d(q,"fetchRedemptions",(function(){return ha})),n.d(q,"redeemToken",(function(){return ma})),n.d(q,"hasRedeemAddress",(function(){return ga})),n.d(q,"buySeeds",(function(){return ba}));var I={};n.r(I),n.d(I,"payouts",(function(){return wa})),n.d(I,"proposals",(function(){return _a})),n.d(I,"seedsToUsd",(function(){return $a})),n.d(I,"usdToSeeds",(function(){return Ta}));var R={};n.r(R),n.d(R,"setSeedsValues",(function(){return Aa})),n.d(R,"clearPayouts",(function(){return xa})),n.d(R,"addPayouts",(function(){return Pa})),n.d(R,"clearProposals",(function(){return Sa})),n.d(R,"addProposals",(function(){return Da})),n.d(R,"removeProposal",(function(){return ka}));var C={};n.r(C),n.d(C,"savePayoutProposal",(function(){return qa})),n.d(C,"loadProposals",(function(){return Ia})),n.d(C,"loadPayouts",(function(){return Ra})),n.d(C,"loadUserPayouts",(function(){return Ca})),n.d(C,"fetchData",(function(){return Ua}));var U={};n.r(U),n.d(U,"periods",(function(){return Na})),n.d(U,"periodOptionsStartProposal",(function(){return Va})),n.d(U,"periodOptionsEditProposal",(function(){return Ea})),n.d(U,"getEndPeriod",(function(){return Fa})),n.d(U,"getPeriodByDate",(function(){return Ba})),n.d(U,"getPeriodIndexByDate",(function(){return Wa})),n.d(U,"getMaxCurrentPeriodCount",(function(){return ja}));var L={};n.r(L),n.d(L,"setPeriods",(function(){return Ma}));var O={};n.r(O),n.d(O,"isConnected",(function(){return za})),n.d(O,"profile",(function(){return Ka})),n.d(O,"profiles",(function(){return Qa})),n.d(O,"drafts",(function(){return Ya})),n.d(O,"loadings",(function(){return Za}));var N={};n.r(N),n.d(N,"setConnected",(function(){return Xa})),n.d(N,"addProfile",(function(){return to})),n.d(N,"setLoading",(function(){return eo})),n.d(N,"setView",(function(){return no})),n.d(N,"setDrafts",(function(){return ao}));var V={};n.r(V),n.d(V,"connectProfileApi",(function(){return oo})),n.d(V,"getProfile",(function(){return so})),n.d(V,"getPublicProfile",(function(){return ro})),n.d(V,"getDrafts",(function(){return io})),n.d(V,"getTokensAmounts",(function(){return co})),n.d(V,"saveProfile",(function(){return lo})),n.d(V,"saveAddresses",(function(){return uo})),n.d(V,"deleteDraft",(function(){return po})),n.d(V,"saveDraft",(function(){return fo}));var E={};n.r(E),n.d(E,"roles",(function(){return bo})),n.d(E,"proposals",(function(){return yo}));var F={};n.r(F),n.d(F,"clearRoles",(function(){return vo})),n.d(F,"addRoles",(function(){return wo})),n.d(F,"clearProposals",(function(){return _o})),n.d(F,"addProposals",(function(){return $o})),n.d(F,"removeProposal",(function(){return To}));var B={};n.r(B),n.d(B,"fetchRole",(function(){return Ao})),n.d(B,"saveRoleProposal",(function(){return xo})),n.d(B,"suspendRole",(function(){return Po})),n.d(B,"loadProposals",(function(){return So})),n.d(B,"loadRoles",(function(){return Do})),n.d(B,"loadRole",(function(){return ko}));var W={};n.r(W),n.d(W,"search",(function(){return Ro})),n.d(W,"searchInput",(function(){return Co}));var j={};n.r(j),n.d(j,"setSearch",(function(){return Uo})),n.d(j,"clearSearch",(function(){return Lo}));var M={};n.r(M),n.d(M,"ballots",(function(){return Vo})),n.d(M,"getBallot",(function(){return Eo})),n.d(M,"lastVote",(function(){return Fo}));var H={};n.r(H),n.d(H,"addBallots",(function(){return Bo})),n.d(H,"addProposals",(function(){return Wo})),n.d(H,"flushProposals",(function(){return jo})),n.d(H,"setLastVote",(function(){return Mo}));var J={};n.r(J),n.d(J,"fetchBallot",(function(){return Ho})),n.d(J,"getSupply",(function(){return Jo})),n.d(J,"castVote",(function(){return Go})),n.d(J,"getUserVote",(function(){return zo}));var G={};n.r(G),n.d(G,"getSupply",(function(){return Xo})),n.d(G,"getTreasuryData",(function(){return ts})),n.d(G,"getTreasurers",(function(){return es})),n.d(G,"sendNewPayment",(function(){return ns})),n.d(G,"endorsePayment",(function(){return as}));n("e6cf"),n("ddb0"),n("5319"),n("573e"),n("7d6e"),n("e54f"),n("4848"),n("c382"),n("b828"),n("7713"),n("62f2"),n("7e6d"),n("a1e8");var z=n("2b0e"),K=n("b05d"),Q=n("7f67"),Y=n("714f"),Z=n("2a19"),X=n("18d6"),tt=n("436b");z["a"].use(K["a"],{config:{notify:{}},directives:{ClosePopup:Q["a"],Ripple:Y["a"]},plugins:{Notify:Z["a"],LocalStorage:X["a"],Dialog:tt["a"]}});var et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{class:{"banner-offset":!!t.alert},attrs:{id:"q-app"}},[n("banner"),n("router-view")],1)])},nt=[],at=n("ded3"),ot=n.n(at),st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.alert?n("div",{staticClass:"row flex banner q-pa-sm items-center",class:t.getBannerClass()},[n("div",{staticClass:"col-10"},["success"===t.alert.level?n("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fas fa-check-square"}}):t._e(),"info"===t.alert.level?n("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fas fa-info-circle"}}):t._e(),"warning"===t.alert.level?n("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fas fa-exclamation-triangle"}}):t._e(),"danger"===t.alert.level?n("q-icon",{staticClass:"q-mr-xs",attrs:{name:"fas fa-radiation"}}):t._e(),t._v(t._s(t.alert.content))],1),n("div",{staticClass:"col-2"},[n("q-btn",{staticClass:"float-right",attrs:{flat:"",dense:"",color:"white",label:"Dismiss"},on:{click:t.dismissAlert}})],1)]):t._e()},rt=[],it=n("2f62"),ct={name:"banner",async beforeMount(){await this.loadAlert()},computed:ot()({},Object(it["c"])("layout",["alert"])),methods:ot()(ot()(ot()({},Object(it["b"])("layout",["loadAlert"])),Object(it["d"])("layout",["dismissAlert"])),{},{getBannerClass(){return this.alert?"success"===this.alert.level?{"bg-green":!0}:"info"===this.alert.level?{"bg-blue":!0}:"warning"===this.alert.level?{"bg-orange":!0}:"danger"===this.alert.level?{"bg-red":!0}:{"bg-primary":!0}:null}})},lt=ct,ut=(n("c677"),n("2877")),dt=n("0016"),pt=n("9c40"),ft=n("eebe"),ht=n.n(ft),mt=Object(ut["a"])(lt,st,rt,!1,null,"92217634",null),gt=mt.exports;ht()(mt,"components",{QIcon:dt["a"],QBtn:pt["a"]});var bt={name:"App",components:{Banner:gt},computed:ot()({},Object(it["c"])("layout",["alert"]))},yt=bt,vt=(n("7faf"),n("e359")),wt=Object(ut["a"])(yt,et,nt,!1,null,null,null),_t=wt.exports;ht()(wt,"components",{QHeader:vt["a"]});var $t=()=>({account:null,membership:!1,enroller:!1,admin:!1,loading:null});const Tt=({account:t})=>null!==t,At=({membership:t})=>t,xt=({enroller:t})=>t,Pt=({admin:t})=>t,St=({account:t})=>t,Dt=({loading:t})=>t,kt=(t,e)=>{t.loading=e},qt=(t,e)=>{t.account=e},It=function(t){localStorage.removeItem("autoLogin"),t.account=null,t.membership=!1,t.enroller=!1},Rt=(t,e)=>{t.membership=e},Ct=(t,e)=>{t.enroller=e},Ut=(t,e)=>{t.admin=e};var Lt=n("0926"),Ot=n("4504");const Nt=async function({commit:t,dispatch:e}){try{const n=await this.$lightWallet.login();t("setAccount",n),this.$type="lightWallet",await e("checkMembership"),await e("profiles/getPublicProfile",n,{root:!0}),await e("profiles/getDrafts",n,{root:!0}),"/dashboard"!==this.$router.currentRoute.path&&await this.$router.push({path:"/dashboard"})}catch(n){return`Cannot login with Light Wallet: ${n}`}},Vt=async function({commit:t,dispatch:e},{idx:n,returnUrl:a}){const o=this.$ual.authenticators[n];let s,r;t("setLoadingWallet",o.getStyle().text),await o.init();try{const n=await o.login();n.length&&(r=n[0].accountName,t("setAccount",r),this.$ualUser=n[0],this.$type="ual",localStorage.setItem("autoLogin",o.ualName),this.$ppp.setActiveUser(this.$ualUser),await e("checkMembership"),await e("profiles/getPublicProfile",r,{root:!0}),await e("profiles/getDrafts",r,{root:!0})),localStorage.setItem("known-user",!0),this.$router.currentRoute.path!==(a||"/dashboard")&&await this.$router.push({path:a||"/dashboard"})}catch(i){s=o.getError()&&o.getError().message||i.message}return t("setLoadingWallet"),s},Et=async function({commit:t,dispatch:e},{account:n,privateKey:a,returnUrl:o}){try{const s=new Ot["JsSignatureProvider"]([a]),r=new Lt["JsonRpc"](this.$apiUrl),i=new Lt["Api"]({rpc:r,signatureProvider:s,textDecoder:new TextDecoder,textEncoder:new TextEncoder});this.$type="inApp",this.$inAppUser=i,this.$inAppUser.getAccountName=()=>n,this.$inAppUser.signTransaction=i.transact,this.$ppp.setActiveUser(this.$inAppUser),t("setAccount",n),await e("checkMembership"),await e("profiles/getPublicProfile",n,{root:!0}),await e("profiles/getDrafts",n,{root:!0}),localStorage.setItem("known-user",!0),this.$router.currentRoute.path!==(o||"/dashboard")&&await this.$router.push({path:o||"/dashboard"})}catch(s){return"Invalid private key"}},Ft=async function({commit:t}){const e=localStorage.getItem("known-user"),n=localStorage.getItem("drafts");if(localStorage.clear(),localStorage.setItem("known-user",e),localStorage.setItem("drafts",n),"ual"===this.$type){const t=localStorage.getItem("autoLogin"),e=this.$ual.authenticators.findIndex((e=>e.constructor.name===t));if(-1!==e)try{this.$ual.authenticators[e].logout()}catch(a){}}t("clearAccount"),this.$ualUser=null,this.$inAppUser=null,this.$type=null,t("profiles/setConnected",!1,{root:!0}),"/roles"!==this.$router.currentRoute.path&&await this.$router.push({path:"/roles"})},Bt=async function({dispatch:t,commit:e},n){if("object"===typeof window.LightWalletChannel)return!t("lightWalletLogin");const a=localStorage.getItem("autoLogin"),o=this.$ual.authenticators.findIndex((t=>t.ualName===a));if(-1!==o){const e=this.$ual.authenticators[o];return await e.init(),!t("loginWallet",{idx:o,returnUrl:n})}return!1},Wt=async function(t,e){try{return await this.$api.getAccount(e),!1}catch(n){}return!0},jt=async function({commit:t},e){const{status:n,error:a}=await this.$accountApi.post("/v1/registrations",{smsNumber:e.internationalPhone,telosAccount:e.account});return{success:403!==n,error:a&&a.message}},Mt=async function({commit:t,state:e},{smsOtp:n,smsNumber:a,telosAccount:o,publicKey:s,privateKey:r,reason:i}){const{error:c}=await this.$accountApi.post("/v1/accounts",{smsOtp:n,smsNumber:a,telosAccount:o,ownerKey:s,activeKey:s});if(c)return{success:!1,error:c.message};const l=new Ot["JsSignatureProvider"]([r]),u=new Lt["JsonRpc"](this.$apiUrl),d=new Lt["Api"]({rpc:u,signatureProvider:l,textDecoder:new TextDecoder,textEncoder:new TextEncoder});this.$type="inApp",this.$inAppUser=d,this.$inAppUser.signTransaction=d.transact;const p=[];e.registered||p.push({account:this.$config.contracts.decide,name:"regvoter",authorization:[{actor:o,permission:"active"}],data:{voter:o,treasury_symbol:"2,LIGHT",referrer:null}}),p.push({account:this.$config.contracts.dao,name:"apply",authorization:[{actor:o,permission:"active"}],data:{applicant:o,content:i}});const f=await this.$api.signTransaction(p);return f&&t("setRegistered",!0),{success:!0}},Ht=async function({commit:t,state:e,dispatch:n}){const a="\n  query member($name:string){\n    var(func: has(member)){\n      members as member @cascade{\n        content_groups {\n          contents  @filter(eq(value, $name)){\n            label\n            value\n          }\n        }\n      }\n    }\n    members(func: uid(members)){\n      hash\n      creator\n      created_date\n      content_groups{\n        expand(_all_){\n          expand(_all_)\n        }\n      }\n    }\n  }  \n  ",o=await this.$dgraph.newTxn().queryWithVars(a,{$name:e.account}),s=o&&o.data.members&&o.data.members.length;t("setMembership",s),s?await n("checkPermissions"):await n("members/checkRegistration",null,{root:!0})},Jt=async function({commit:t,state:e}){const n=await this.$api.getAccount(this.$config.contracts.dao);if(n){const a=n.permissions.find((t=>"enrollers"===t.perm_name));a&&a.required_auth.accounts.some((t=>t.permission.actor===e.account))&&t("setEnroller",!0);const o=n.permissions.find((t=>"admin"===t.perm_name));o&&o.required_auth.accounts.some((t=>t.permission.actor===e.account))&&t("setAdmin",!0)}};var Gt={namespaced:!0,state:$t,getters:a,mutations:o,actions:s},zt=()=>({list:{data:[],loaded:!1,pagination:{limit:1e3}}});const Kt=({list:t})=>t.data,Qt=({list:t})=>t.loaded,Yt=(t,{rows:e,more:n})=>{if(e){const n=t.list.data.length?e.slice(1):e;t.list.data=t.list.data.concat(n)}t.list.loaded=!n},Zt=t=>{t.list.data=[],t.list.loaded=!1},Xt=(t,e)=>{t.list.data=t.list.data.filter((t=>t.applicant!==e))},te=async function({commit:t,state:e}){const n=await this.$api.getTableRows({code:this.$config.contracts.dao,scope:this.$config.contracts.dao,table:"applicants",lower_bound:e.list.data.length?e.list.data[e.list.data.length-1].applicant:null,limit:e.list.pagination.limit,reverse:!0});t("addApplicants",n)},ee=async function({commit:t,rootState:e},{applicant:n,content:a}){const o=[{account:this.$config.contracts.dao,name:"enroll",data:{enroller:e.accounts.account,applicant:n,content:a}}],s=await this.$api.signTransaction(o);return s&&t("removeApplicant",n),s};var ne={namespaced:!0,state:zt,getters:r,mutations:i,actions:c},ae=()=>({proposals:[],assignments:[],userAssignments:[]});const oe=({proposals:t})=>t,se=({assignments:t})=>t,re=({userAssignments:t})=>t,ie=t=>{t.proposals=[]},ce=(t,e)=>{t.proposals=[...t.proposals,...e]},le=(t,e)=>{t.proposals=t.proposals.filter((t=>t.hash!==e))},ue=t=>{t.assignments=[]},de=(t,e)=>{t.assignments=[...t.assignments,...e]},pe=(t,e)=>{t.userAssignments=e};n("e01a");var fe=n("8baf");const he=async function({commit:t},{first:e,offset:n}){const a='\n  query proposals($first:int, $offset: int) {\n    var(func: has(proposal)) {\n      proposals as proposal @cascade{\n        content_groups {\n          contents  @filter(eq(label,"type") and (eq(value, "assignment") or eq(value, "edit"))){\n            label\n            value\n          }\n        }\n      }\n    }\n    proposals(func: uid(proposals), orderdesc:created_date, first: $first, offset: $offset) {\n      hash\n      creator\n      created_date\n      content_groups {\n        expand(_all_) {\n          expand(_all_)\n        }\n      }\n    }\n  }\n  ',o=await this.$dgraph.newTxn().queryWithVars(a,{$first:""+e,$offset:""+n});return t("addProposals",o.data.proposals),0===o.data.proposals.length},me=async function({commit:t,rootState:e},n){const a=[{label:"content_group_label",value:["string","details"]},{label:"role",value:["checksum256",n.role.hash]},{label:"assignee",value:["name",e.accounts.account]},{label:"title",value:["string",n.title]},{label:"description",value:["string",(new fe["a"]).turndown(n.description)]},{label:"start_period",value:["checksum256",n.startPeriod.value]},{label:"period_count",value:["int64",n.periodCount]},{label:"time_share_x100",value:["int64",Math.round(parseFloat(n.salaryCommitted))]},{label:"deferred_perc_x100",value:["int64",Math.round(parseFloat(n.salaryDeferred))]}];n.url&&a.push({label:"url",value:["string",n.url]}),n.edit&&a.push({label:"original_document",value:["checksum256",n.hash]});const o=[{account:this.$config.contracts.dao,name:"propose",data:{proposer:e.accounts.account,proposal_type:n.edit?"edit":"assignment",content_groups:[a]}}];return this.$api.signTransaction(o)},ge=async function({commit:t},{first:e,offset:n}){const a="\n  query assignments($first:int, $offset: int) {\n    var(func: has(assignment)){\n      assignments as assignment{}\n    }\n    assignments(func: uid(assignments), orderdesc:created_date, first: $first, offset: $offset){\n      hash\n      creator\n      created_date\n      content_groups{\n        expand(_all_){\n          expand(_all_)\n        }\n      }\n    }\n  }\n  ",o=await this.$dgraph.newTxn().queryWithVars(a,{$first:""+e,$offset:""+n});return t("addAssignments",o.data.assignments),0===o.data.assignments.length},be=async function({commit:t},{first:e,offset:n,user:a}){const o='\n  query assignments($first:int, $offset: int, $user: string) {\n    var(func: has(assignment)){\n      assignments as assignment @cascade{\n        content_groups {\n          contents  @filter(eq(value,$user) and eq(label, "assignee")){\n            label\n            value\n          }\n        }\n      }\n    }\n    assignments(func: uid(assignments), orderdesc:created_date, first: $first, offset: $offset){\n      hash\n      claimed{\n        expand(_all_){\n          expand(_all_){\n            expand(_all_)\n          }\n        }\n      }\n      content_groups{\n        expand(_all_){\n          expand(_all_)\n        }\n      }\n    }\n  }\n  ',s=await this.$dgraph.newTxn().queryWithVars(o,{$first:""+e,$offset:""+n,$user:a});return t("addAssignments",s.data.assignments),0===s.data.assignments.length},ye=async function(t,e){const n=[{account:this.$config.contracts.dao,name:"claimnextper",data:{assignment_hash:e}}];return this.$api.signTransaction(n)},ve=async function({rootState:t},e){const n=[{account:this.$config.contracts.dao,name:"propsuspend",data:{scope:"assignment",proposer:t.accounts.account,id:e}}];return this.$api.signTransaction(n)},we=async function({rootState:t},{id:e,notes:n}){const a=[{account:this.$config.contracts.dao,name:"withdraw",data:{notes:n,withdrawer:t.accounts.account,assignment_id:e}}];return this.$api.signTransaction(a)};var _e={namespaced:!0,state:ae,getters:l,mutations:u,actions:d},$e=()=>({proposals:[],badges:[],badgeAssignmentLoading:!1,badgeAssignments:null});const Te=({proposals:t})=>t,Ae=({badges:t})=>t,xe=({badgeAssignmentLoading:t})=>t,Pe=({badgeAssignments:t})=>t,Se=t=>{t.proposals=[]},De=(t,e)=>{t.proposals=[...t.proposals,...e]},ke=(t,e)=>{t.proposals=t.proposals.filter((t=>t.hash!==e))},qe=t=>{t.badges=[]},Ie=(t,e)=>{t.badges=[...t.badges,...e]},Re=(t,e)=>{t.badgeAssignmentLoading=e},Ce=(t,e)=>{const n={};for(const a of e)n[a.creator]||(n[a.creator]=[]),n[a.creator].push(a);t.badgeAssignments=n},Ue=async function({rootState:t},e){const n=[{label:"content_group_label",value:["string","details"]},{label:"title",value:["string",e.title]},{label:"description",value:["string",e.description]},{label:"icon",value:["string",e.icon]},{label:"max_cycles",value:["int64",parseInt(e.maxCycles)]},{label:"start_period",value:["checksum256",e.startPeriod.value]},{label:"period_count",value:["int64",e.periodCount]}];e.seeds&&n.push({label:"seeds_coefficient_x10000",value:["int64",100*parseFloat(e.seeds)]}),e.hypha&&n.push({label:"hypha_coefficient_x10000",value:["int64",100*parseFloat(e.hypha)]}),e.hvoice&&n.push({label:"hvoice_coefficient_x10000",value:["int64",100*parseFloat(e.hvoice)]}),e.husd&&n.push({label:"husd_coefficient_x10000",value:["int64",100*parseFloat(e.husd)]});const a=[{account:this.$config.contracts.dao,name:"propose",data:{proposer:t.accounts.account,proposal_type:"badge",content_groups:[n]}}];return this.$api.signTransaction(a)},Le=async function({commit:t},{first:e,offset:n}){const a='\n  query proposals($first:int, $offset: int) {\n    var(func: has(proposal)) {\n      proposals as proposal @cascade{\n        content_groups {\n          contents  @filter(eq(label,"type") and eq(value, "badge")){\n            label\n            value\n          }\n        }\n      }\n    }\n    proposals(func: uid(proposals), orderdesc:created_date, first: $first, offset: $offset) {\n      hash\n      creator\n      created_date\n      content_groups {\n        expand(_all_) {\n          expand(_all_)\n        }\n      }\n    }\n  }\n  ',o=await this.$dgraph.newTxn().queryWithVars(a,{$first:""+e,$offset:""+n});return t("addProposals",o.data.proposals),0===o.data.proposals.length},Oe=async function({commit:t},{first:e,offset:n}){const a='\n  query proposals($first:int, $offset: int) {\n    var(func: has(proposal)) {\n      proposals as proposal @cascade{\n        content_groups {\n          contents  @filter(eq(label,"type") and eq(value, "assignbadge")){\n            label\n            value\n          }\n        }\n      }\n    }\n    proposals(func: uid(proposals), orderdesc:created_date, first: $first, offset: $offset) {\n      hash\n      creator\n      created_date\n      content_groups {\n        expand(_all_) {\n          expand(_all_)\n        }\n      }\n    }\n  }\n  ',o=await this.$dgraph.newTxn().queryWithVars(a,{$first:""+e,$offset:""+n});return t("addProposals",o.data.proposals),0===o.data.proposals.length},Ne=async function({commit:t},{first:e,offset:n}){const a="\n  query badges($first:int, $offset: int) {\n    var(func: has(badge)){\n      badges as badge{}\n  }\n  badges(func: uid(badges), orderdesc:created_date, first: $first, offset: $offset){\n    hash\n    creator\n    created_date\n    content_groups{\n      expand(_all_){\n        expand(_all_)\n      }\n    }\n  }\n}\n  ",o=await this.$dgraph.newTxn().queryWithVars(a,{$first:""+e,$offset:""+n});return t("addBadges",o.data.badges),0===o.data.badges.length},Ve=async function(t,e){const n="\n    query badge($hash:string){\n      badge(func: eq(hash, $hash)) {\n        hash\n        creator\n        created_date\n        content_groups{\n          expand(_all_){\n            expand(_all_)\n          }\n        }\n      }\n    }\n  ",a=await this.$dgraph.newTxn().queryWithVars(n,{$hash:e});return a.data.badge.length?a.data.badge[0]:null},Ee=async function({rootState:t},e){const n=[{label:"content_group_label",value:["string","details"]},{label:"title",value:["string",e.title]},{label:"description",value:["string",e.description]},{label:"badge",value:["checksum256",e.badge]},{label:"assignee",value:["name",t.accounts.account]},{label:"start_period",value:["checksum256",e.startPeriod.value]},{label:"period_count",value:["int64",e.periodCount]}],a=[{account:this.$config.contracts.dao,name:"propose",data:{proposer:t.accounts.account,proposal_type:"assignbadge",content_groups:[n]}}];return this.$api.signTransaction(a)},Fe=async function({commit:t,rootGetters:e}){while(e["badges/badgeAssignmentLoading"])await Be(200);if(e["badges/badgeAssignments"])return;t("setBadgeAssignmentLoading",!0);const n="\n  {\n    var(func: has(assignbadge)){\n      assignbadges as assignbadge{}\n  }\n  assignbadges(func: uid(assignbadges)){\n    hash\n    creator\n    created_date\n    content_groups{\n      expand(_all_){\n        expand(_all_)\n      }\n    }\n\n    badge {\n      hash\n      creator\n      created_date\n      content_groups{\n        expand(_all_){\n          expand(_all_)\n        }\n      }\n    }\n  }\n}\n  ",a=await this.$dgraph.newTxn().query(n);t("addBadgeAssignments",a.data.assignbadges),t("setBadgeAssignmentLoading",!1)},Be=t=>new Promise((e=>setTimeout(e,t)));var We={namespaced:!0,state:$e,getters:p,mutations:f,actions:h},je=()=>({ballots:{},supply:null,supplyLoading:!1});const Me=({ballots:t})=>t,He=({supplyLoading:t})=>t,Je=({supply:t})=>t,Ge=(t,{id:e,ballot:n})=>{t.ballots=ot()(ot()({},t.ballots),{},{[e]:ot()(ot()({},n),{},{userVote:null})})},ze=(t,{id:e,vote:n})=>{n&&t.ballots[e]&&(t.ballots[e].userVote=n)},Ke=(t,e)=>{t.supplyLoading=e},Qe=(t,e)=>{t.supply=parseFloat(e)},Ye=async function({commit:t}){t("setSupplyLoading",!0);const e=await this.$api.getTableRows({code:this.$config.contracts.decide,scope:this.$config.contracts.decide,table:"treasuries",lower_bound:"LIGHT",upper_bound:"LIGHT"});e&&e.rows.length&&t("setSupply",e.rows[0].supply),t("setSupplyLoading",!1)},Ze=async function({commit:t},e){const n=await this.$api.getTableRows({code:this.$config.contracts.decide,scope:this.$config.contracts.decide,table:"ballots",limit:1,lower_bound:e,upper_bound:e});t("addBallot",{id:e,ballot:n.rows.length&&n.rows[0]})},Xe=async function({rootState:t,commit:e},{id:n,vote:a}){const o=[{account:this.$config.contracts.decide,name:"castvote",data:{voter:t.accounts.account,ballot_name:n,options:[a]}}],s=await this.$api.signTransaction(o);s&&e("setUserVote",{vote:a,id:n})},tn=async function({commit:t},{user:e,id:n}){const a=await this.$api.getTableRows({code:this.$config.contracts.decide,scope:n,table:"votes",lower_bound:e,upper_bound:e});a&&a.rows.length&&t("setUserVote",{vote:a.rows[0].weighted_votes.length&&a.rows[0].weighted_votes[0].key,id:n})},en=async function(t,e){const n=await this.$api.getTableRows({code:this.$config.contracts.decide,scope:e,table:"votes",limit:2e3});return n&&n.rows.length?n.rows:[]};var nn={namespaced:!0,state:je,getters:m,mutations:g,actions:b},an=function(){return{}},on=n("9c98"),sn=n("5711");const rn=async function(t,e){const n=[{account:this.$config.contracts.dao,name:"closedocprop",data:{proposal_hash:e}}];return this.$api.signTransaction(n)};var cn={namespaced:!0,state:an,getters:on,mutations:sn,actions:y},ln=()=>({showRightSidebar:!1,rightSidebarType:null,data:null,breadcrumbs:[],alert:{level:null,content:null,hidden:!1}});const un=({showRightSidebar:t})=>t,dn=({rightSidebarType:t})=>t,pn=({data:t})=>t,fn=({breadcrumbs:t})=>t,hn=({alert:t})=>t.level&&t.content&&!t.hidden&&t||null,mn=(t,e)=>{null===e?(t.rightSidebarType=null,t.data=null):"string"===typeof e?(t.rightSidebarType=e,t.data=null):(t.data=e.data,t.rightSidebarType=e.type)},gn=(t,e)=>{t.showRightSidebar=e,e||(t.rightSidebarType=null,t.data=null)},bn=(t,e)=>{t.breadcrumbs=e},yn=(t,{level:e,content:n})=>{if(localStorage.getItem("banner")){const t=JSON.parse(localStorage.getItem("banner"));if(t.level===e&&t.content===n&&t.dismissDate+6048e5>Date.now())return}t.alert={level:e,content:n,hidden:!1}},vn=t=>{t.alert.hidden=!0,localStorage.setItem("banner",JSON.stringify({dismissDate:Date.now(),content:t.alert.content,level:t.alert.level}))};var wn=n("386c");const _n=async function({commit:t}){const e="\n  query alerts() {\n    var(func: has(alert)){\n        alerts as alert{}\n    }\n    alerts(func: uid(alerts)){\n      expand(_all_){\n        expand(_all_){\n          expand(_all_)\n        }\n      }\n    }\n  }\n  ",n=await this.$dgraph.newTxn().query(e);if(n&&n.data&&n.data.alerts&&n.data.alerts.length){const e=Object(wn["b"])(n.data.alerts[0],"details","level"),a=Object(wn["b"])(n.data.alerts[0],"details","content");if(e&&a)return t("setAlert",{level:e,content:a}),{level:e,content:a}}return null},$n=async function(t,{level:e,content:n}){const a=[{account:this.$config.contracts.dao,name:"setalert",data:{level:e,content:n}}];return this.$api.signTransaction(a)},Tn=async function(){const t=[{account:this.$config.contracts.dao,name:"remalert",data:{notes:""}}];return this.$api.signTransaction(t)};var An={namespaced:!0,state:ln,getters:v,mutations:w,actions:_},xn=()=>({registered:!1,members:[]});const Pn=({registered:t})=>t,Sn=({members:t})=>t,Dn=(t,e)=>{t.registered=e},kn=t=>{t.members=[]},qn=(t,e)=>{t.members=[...t.members,...e]},In=async function({commit:t,rootState:e}){const n=await this.$api.getTableRows({code:this.$config.contracts.decide,scope:e.accounts.account,table:"voters",limit:1e3});n&&n.rows.length&&n.rows.some((t=>/LIGHT$/.test(t.liquid)))?t("setRegistered",!0):t("setRegistered",!1)},Rn=async function({state:t,rootState:e,commit:n},a){const o=[];t.registered||o.push({account:this.$config.contracts.decide,name:"regvoter",data:{voter:e.accounts.account,treasury_symbol:"2,LIGHT",referrer:null}}),o.push({account:this.$config.contracts.dao,name:"apply",data:{applicant:e.accounts.account,content:a}});const s=await this.$api.signTransaction(o);return s&&n("setRegistered",!0),s},Cn=async function({rootState:t}){const e=await this.$api.getTableRows({code:this.$config.contracts.dao,scope:this.$config.contracts.dao,table:"applicants",lower_bound:t.accounts.account,upper_bound:t.accounts.account,limit:1});return e&&e.rows.length&&e.rows[0].applicant===t.accounts.account?e.rows[0]:null},Un=async function({commit:t},{first:e,offset:n}){const a="\n  query members($first:int, $offset: int){\n    var(func: has(member)){\n      members as member{\n      }\n    }\n    members(func: uid(members), orderdesc:created_date, first: $first, offset: $offset){\n      hash\n      creator\n      created_date\n      content_groups{\n        expand(_all_){\n          expand(_all_)\n        }\n      }\n    }\n  }\n  ",o=await this.$dgraph.newTxn().queryWithVars(a,{$first:""+e,$offset:""+n});return t("addMembers",o.data.members),0===o.data.members.length};var Ln={namespaced:!0,state:xn,getters:$,mutations:T,actions:A},On=function(){return{}},Nn=n("31a3"),Vn=n("a1d2");const En=async function(){const t={code:"msig.hypha",scope:"msig.hypha",table:"proposal",limit:1e3},e=await this.$api.getTableRows(t),n={code:"msig.hypha",scope:"msig.hypha",table:"documents",limit:1e3},a=await this.$api.getTableRows(n);for(const o of e.rows)o.document=a.rows.find((t=>t.hash===o.document_hash)),o.type="HYPHA";return e.rows},Fn=async function(){},Bn=async function({rootState:t},{proposalName:e,level:n}){const a=[{account:"msig.hypha",name:"approve",data:{proposal_name:e,level:{actor:t.accounts.account,permission:n}}}];return this.$api.signTransaction(a)},Wn=async function({rootState:t},{proposalName:e,level:n}){const a=[{account:"msig.hypha",name:"unapprove",data:{proposal_name:e,level:{actor:t.accounts.account,permission:n}}}];return this.$api.signTransaction(a)},jn=async function({rootState:t},{proposalName:e}){const n=[{account:"msig.hypha",name:"exec",data:{proposal_name:e,executer:t.accounts.account}}];return this.$api.signTransaction(n)},Mn=async function({rootState:t},{proposalName:e}){const n=[{account:"msig.hypha",name:"cancel",data:{proposal_name:e,canceler:t.accounts.account}}];return this.$api.signTransaction(n)};var Hn={namespaced:!0,state:On,getters:Nn,mutations:Vn,actions:x},Jn=()=>({notifications:[],successCount:0,errorCount:0});n("26e9");const Gn=({notifications:t})=>[...t].reverse(),zn=({successCount:t})=>t,Kn=({errorCount:t})=>t;var Qn=n("6e4f"),Yn=n("17b3"),Zn={namespaced:!0,state:Jn,getters:P,mutations:Qn,actions:Yn},Xn=function(){return{}},ta=n("f18f"),ea=n("35ae");const na=async function({commit:t},{scope:e,id:n}){const a=await this.$api.getTableRows({code:this.$config.contracts.dao,scope:e,table:"objects",lower_bound:n,upper_bound:n});return a.rows&&a.rows.length?a.rows[0]:null};var aa={namespaced:!0,state:Xn,getters:ta,mutations:ea,actions:S},oa=()=>({list:{data:[],loaded:!1,pagination:{limit:1e3}}});const sa=({list:t})=>t.data,ra=({list:t})=>t.loaded,ia=(t,{rows:e,more:n})=>{if(e){const n=t.list.data.length?e.slice(1):e;t.list.data=t.list.data.concat(n)}t.list.loaded=!n},ca=(t,{rows:e})=>{e.length&&(t.list.data=t.list.data.concat(e.map((t=>({type:"redemption",memo:"Opened redemption",recipient:t.redeemer,amount:t.amount,status:"open"})))))},la=t=>{t.list.data=[],t.list.loaded=!1},ua=t=>{t.list.data=t.list.data.filter((t=>"redemption"!==t.type))},da=async function({commit:t,state:e},{account:n}){const a={code:this.$config.contracts.dao,scope:this.$config.contracts.dao,table:"payments",lower_bound:null,upper_bound:null,limit:1e3};n&&(a.lower_bound=n,a.upper_bound=n,a.index_position=3,a.key_type="i64");const o=await this.$api.getTableRows(a);t("addPayments",o)},pa=async function({rootState:t}){const e='\n  query payments($recipient:string) {\n    var(func: has(payment)) {\n      payments as payment @cascade{\n        content_groups {\n          contents @filter(eq(value,$recipient) and eq(label, "recipient")){\n            label\n            value\n          }\n        }\n      }\n    }\n    payments(func: uid(payments)) {\n      total: count(uid)\n    }\n  }',n=await this.$dgraph.newTxn().queryWithVars(e,{$recipient:t.accounts.account});return n.data.payments[0].total},fa=async function({rootState:t},{page:e,rowsPerPage:n}){const a='\n  query payments($recipient:string, $first:int, $offset: int) {\n    var(func: has(payment)){\n      payments as payment @cascade{\n        content_groups {\n          contents  @filter(eq(value,$recipient) and eq(label, "recipient")){\n            label\n            value\n          }\n        }\n      }\n    }\n    payments(func: uid(payments), orderdesc:created_date, first: $first, offset: $offset){\n      hash\n      creator\n      created_date\n      content_groups{\n        expand(_all_){\n          expand(_all_)\n        }\n      }\n    }\n  }',o=await this.$dgraph.newTxn().queryWithVars(a,{$recipient:t.accounts.account,$first:""+n,$offset:""+(e-1)*n});return o.data.payments},ha=async function({commit:t,state:e},{account:n}){const a={code:this.$config.contracts.treasury,scope:this.$config.contracts.treasury,table:"redemptions",limit:1e3},o=await this.$api.getTableRows(a);n&&o.rows.length&&(o.rows=o.rows.filter((t=>t.redeemer===n))),t("addOpenRedemptions",o)},ma=async function({rootState:t},{quantity:e,memo:n}){const a=[{account:this.$config.contracts.husdToken,name:"transfer",data:{from:t.accounts.account,to:this.$config.contracts.treasury,quantity:e,memo:n}},{account:this.$config.contracts.treasury,name:"redeem",data:{redeemer:t.accounts.account,amount:e,notes:[]}}];return this.$api.signTransaction(a)},ga=async function({rootState:t}){const e=await this.$api.getTableRows({code:"kv.hypha",scope:"kv.hypha",table:"kvs",index_position:3,key_type:"i64",lower_bound:t.accounts.account,upper_bound:t.accounts.account,limit:1e3});if(e&&e.rows.length){const t=e.rows.find((t=>"defaultaddr"===t.key));return!!t&&e.rows.some((e=>e.key===t.value))}return!1},ba=async function({rootState:t},e){const n=[{account:this.$config.contracts.husdToken,name:"transfer",data:{from:t.accounts.account,to:this.$config.contracts.tlostoSeeds,quantity:e,memo:"DHO Hypha Buy Seeds"}}];return this.$api.signTransaction(n)};var ya={namespaced:!0,state:oa,getters:D,mutations:k,actions:q},va=()=>({payouts:[],proposals:[],seedsToUsd:0,usdToSeeds:0});const wa=({payouts:t})=>t,_a=({proposals:t})=>t,$a=({seedsToUsd:t})=>t,Ta=({usdToSeeds:t})=>t,Aa=(t,{usdToSeeds:e,seedsToUsd:n})=>{t.usdToSeeds=e,t.seedsToUsd=n},xa=t=>{t.payouts=[]},Pa=(t,e)=>{t.payouts=[...t.payouts,...e]},Sa=t=>{t.proposals=[]},Da=(t,e)=>{t.proposals=[...t.proposals,...e]},ka=(t,e)=>{t.proposals=t.proposals.filter((t=>t.hash!==e))},qa=async function({rootState:t},e){const n=[{label:"content_group_label",value:["string","details"]},{label:"recipient",value:["name",t.accounts.account]},{label:"title",value:["string",e.title]},{label:"description",value:["string",(new fe["a"]).turndown(e.description)]},{label:"seeds_amount",value:["asset",`${parseFloat(e.seeds).toFixed(4)} SEEDS`]},{label:"hvoice_amount",value:["asset",`${parseFloat(e.hvoice).toFixed(2)} LIGHT`]},{label:"hypha_amount",value:["asset",`${parseFloat(e.hypha).toFixed(2)} HYPHA`]},{label:"husd_amount",value:["asset",`${parseFloat(e.husd).toFixed(2)} HUSD`]}];e.url&&n.push({label:"url",value:["string",e.url]});const a=[{account:this.$config.contracts.dao,name:"propose",data:{proposer:t.accounts.account,proposal_type:"payout",content_groups:[n]}}];return this.$api.signTransaction(a)},Ia=async function({commit:t},{first:e,offset:n}){const a='\n  query proposals($first:int, $offset: int) {\n    var(func: has(proposal)) {\n      proposals as proposal @cascade{\n        content_groups {\n          contents  @filter(eq(label,"type") and eq(value, "payout")){\n            label\n            value\n          }\n        }\n      }\n    }\n    proposals(func: uid(proposals), orderdesc:created_date, first: $first, offset: $offset) {\n      hash\n      creator\n      created_date\n      content_groups {\n        expand(_all_) {\n          expand(_all_)\n        }\n      }\n    }\n  }\n  ',o=await this.$dgraph.newTxn().queryWithVars(a,{$first:""+e,$offset:""+n});return t("addProposals",o.data.proposals),0===o.data.proposals.length},Ra=async function({commit:t},{first:e,offset:n}){const a="\n  query payouts($first:int, $offset: int) {\n    var(func: has(payout)){\n      payouts as payout{}\n    }\n    payouts(func: uid(payouts), orderdesc:created_date, first: $first, offset: $offset){\n      hash\n      creator\n      created_date\n      content_groups{\n        expand(_all_){\n          expand(_all_)\n        }\n      }\n    }\n  }\n  ",o=await this.$dgraph.newTxn().queryWithVars(a,{$first:""+e,$offset:""+n});return t("addPayouts",o.data.payouts),0===o.data.payouts.length},Ca=async function({commit:t},{first:e,offset:n,user:a}){const o='\n  query payouts($first:int, $offset: int, $user: string) {\n    var(func: has(payout)){\n      payouts as payout @cascade{\n        content_groups {\n          contents  @filter(eq(value,$user) and eq(label, "recipient")){\n            label\n            value\n          }\n        }\n      }\n    }\n    payouts(func: uid(payouts), orderdesc:created_date, first: $first, offset: $offset){\n      hash\n      creator\n      created_date\n      content_groups{\n        expand(_all_){\n          expand(_all_)\n        }\n      }\n    }\n  }\n  ',s=await this.$dgraph.newTxn().queryWithVars(o,{$first:""+e,$offset:""+n,$user:a});return t("addPayouts",s.data.payouts),0===s.data.payouts.length},Ua=async function({commit:t,state:e}){const n=await this.$api.getTableRows({code:this.$config.contracts.dao,scope:"payout",table:"objects",lower_bound:e.list.data.length?e.list.data[e.list.data.length-1].id:"",limit:e.list.pagination.limit,reverse:!0});t("addPayouts",n)};var La={namespaced:!0,state:va,getters:I,mutations:R,actions:C},Oa=()=>({periods:[]});const Na=({periods:t})=>t,Va=({periods:t})=>t.filter((t=>t.startDate.getTime()>=Date.now())),Ea=({periods:t},e)=>t.filter((t=>t.startDate.getTime()>=e.getTime())),Fa=({periods:t})=>({value:e,periodCount:n})=>{const a=t.findIndex((t=>t.value===e));return t[a+n]},Ba=({periods:t})=>e=>t.find((t=>t.endDate.getTime()>e.getTime()&&t.startDate.getTime()<=e.getTime())),Wa=({periods:t})=>e=>{const n=t.findIndex((t=>t.endDate.getTime()>e.getTime()&&t.startDate.getTime()<=e.getTime()));return-1!==n?n:t.length},ja=({periods:t})=>({value:e,periodCount:n,maxIdx:a})=>{const o=t.findIndex((t=>t.value===e));let s=0;for(let r=o;r<Math.min(a,o+n);r+=1)t.length>r&&(s+=1);return s},Ma=(t,e)=>{t.periods=e};var Ha=n("f2df"),Ja={namespaced:!0,state:Oa,getters:U,mutations:L,actions:Ha},Ga=()=>({connected:!1,profiles:{},loadings:{},view:null,drafts:[]});const za=({connected:t})=>t,Ka=({view:t})=>t,Qa=({profiles:t})=>t,Ya=({drafts:t})=>t,Za=({loadings:t})=>t,Xa=(t,e)=>{t.connected=e},to=(t,{profile:e,username:n})=>{t.profiles[n]=e,t.loadings[n]=!1},eo=(t,e)=>{t.loadings[e]=!0},no=(t,e)=>{t.view=e},ao=(t,e)=>{t.drafts=e},oo=async function({commit:t}){await this.$ppp.authApi().signIn(),localStorage.setItem("profileApiConnected",!0),t("setConnected",!0)},so=async function(){const t=await this.$ppp.profileApi().getProfile("BASE_AND_APP");return t?(t.publicData.avatar&&(t.publicData.avatar=await this.$ppp.profileApi().getImageUrl(t.publicData.avatar,t.publicData.s3Identity)),t.publicData.cover&&(t.publicData.cover=await this.$ppp.profileApi().getImageUrl(t.publicData.cover,t.publicData.s3Identity)),t):null},ro=async function({commit:t,state:e,rootGetters:n},a){if(!a)return null;while(n["profiles/loadings"][a])await ho(200);if(n["profiles/profiles"][a])return n["profiles/profiles"][a];t("setLoading",a);const o=(await this.$ppp.profileApi().getProfiles([a]))[a];return o?(o.publicData.avatar&&(o.publicData.avatar=await this.$ppp.profileApi().getImageUrl(o.publicData.avatar,o.publicData.s3Identity)),o.publicData.cover&&(o.publicData.cover=await this.$ppp.profileApi().getImageUrl(o.publicData.cover,o.publicData.s3Identity)),t("addProfile",{profile:o,username:a}),o):(t("addProfile",{profile:o,username:a}),null)},io=async function({commit:t}){t("setDrafts",JSON.parse(localStorage.getItem("drafts"))||[])},co=async function(t,e){const n={husd:0,hvoice:0,hypha:0,liquidSeeds:0,deferredSeeds:0};let a=await this.$api.getTableRows({code:this.$config.contracts.decide,scope:e,table:"voters",limit:1e3});if(a&&a.rows&&a.rows.length){const t=a.rows.find((t=>/LIGHT$/.test(t.liquid)));t&&(n.hvoice=parseFloat(t.liquid).toFixed(2))}return a=await this.$api.getTableRows({code:this.$config.contracts.seedsToken,scope:e,table:"accounts",limit:1e3}),a&&a.rows&&a.rows.length&&(n.liquidSeeds=parseFloat(a.rows[0].balance).toFixed(4)),n},lo=async function({commit:t,state:e,dispatch:n,rootState:a},{mainForm:o,aboutForm:s,detailsForm:r,tokenRedemptionForm:i}){let c;e.connected||await n("connectProfileApi"),o.avatarFile&&(o.avatar=await this.$ppp.profileApi().uploadImage(o.avatarFile),c=(await this.$ppp.authApi().userInfo()).id),r.coverFile&&(r.cover=await this.$ppp.profileApi().uploadImage(r.coverFile),c=(await this.$ppp.authApi().userInfo()).id);const l=await this.$ppp.profileApi().getProfile("BASE_AND_APP")||{};await this.$ppp.profileApi().register(ot()(ot()({},l),{},{emailAddress:o.email,smsNumber:o.phoneNumber,commPref:o.contactMethod,publicData:ot()(ot()(ot()({},l.publicData),i),{},{name:o.name,nickname:o.nickname,timeZone:r.timeZone,avatar:o.avatar,cover:r.cover,s3Identity:c,tags:r.tags,bio:(new fe["a"]).turndown(s.bio)})}));const u=(await this.$ppp.profileApi().getProfiles([a.accounts.account]))[a.accounts.account];if(!u)return null;u.publicData.avatar&&(u.publicData.avatar=await this.$ppp.profileApi().getImageUrl(u.publicData.avatar,u.publicData.s3Identity)),u.publicData.cover&&(u.publicData.cover=await this.$ppp.profileApi().getImageUrl(u.publicData.cover,u.publicData.s3Identity)),t("addProfile",{profile:u,username:a.accounts.account})},uo=async function({rootState:t},{newData:e,oldData:n}){const a=[];return e.btcAddress?a.push({account:"kv.hypha",name:"set",data:{owner:t.accounts.account,key:"btcaddress",value:e.btcAddress,notes:null}}):e.btcAddress||e.btcAddress===n.btcAddress||a.push({account:"kv.hypha",name:"erase",data:{owner:t.accounts.account,key:"btcaddress"}}),e.ethAddress?a.push({account:"kv.hypha",name:"set",data:{owner:t.accounts.account,key:"ethaddress",value:e.ethAddress,notes:null}}):e.ethAddress||e.ethAddress===n.ethAddress||a.push({account:"kv.hypha",name:"erase",data:{owner:t.accounts.account,key:"ethaddress"}}),e.eosAccount?a.push({account:"kv.hypha",name:"set",data:{owner:t.accounts.account,key:"eosaccount",value:e.eosAccount,notes:null}}):e.eosAccount||e.eosAccount===n.eosAccount||a.push({account:"kv.hypha",name:"erase",data:{owner:t.accounts.account,key:"eosaccount"}}),e.defaultAddress?a.push({account:"kv.hypha",name:"set",data:{owner:t.accounts.account,key:"defaultaddr",value:e.defaultAddress,notes:null}}):e.defaultAddress||e.defaultAddress===n.defaultAddress||a.push({account:"kv.hypha",name:"erase",data:{owner:t.accounts.account,key:"defaultaddr"}}),this.$api.signTransaction(a)},po=async function({commit:t,state:e,dispatch:n},a){const o=e.drafts.filter((t=>t.draft.id!==a));t("setDrafts",o),await n("saveDraft")},fo=async function({commit:t,state:e,dispatch:n},a){const o=[...e.drafts];if(a){const{type:t,draft:e}=a,n=o.findIndex((n=>n.draft.id===e.id&&n.type===t));n>=0?o[n]={type:t,draft:e}:o.push({type:t,draft:e})}return localStorage.setItem("drafts",JSON.stringify(o)),t("setDrafts",o),!0},ho=t=>new Promise((e=>setTimeout(e,t)));var mo={namespaced:!0,state:Ga,getters:O,mutations:N,actions:V},go=()=>({roles:[],proposals:[]});const bo=({roles:t})=>t,yo=({proposals:t})=>t,vo=t=>{t.roles=[]},wo=(t,e)=>{t.roles=[...t.roles,...e]},_o=t=>{t.proposals=[]},$o=(t,e)=>{t.proposals=[...t.proposals,...e]},To=(t,e)=>{t.proposals=t.proposals.filter((t=>t.hash!==e))},Ao=async function({commit:t,state:e},n){const a=await this.$api.getTableRows({code:this.$config.contracts.dao,scope:"role",table:"objects",lower_bound:parseInt(n),upper_bound:parseInt(n),limit:1});return a&&a.rows.length?a.rows[0]:null},xo=async function({rootState:t},e){const n=[{label:"content_group_label",value:["string","details"]},{label:"title",value:["string",e.title]},{label:"description",value:["string",(new fe["a"]).turndown(e.description)]},{label:"annual_usd_salary",value:["asset",`${parseFloat(e.salaryUsd).toFixed(2)} USD`]},{label:"fulltime_capacity_x100",value:["int64",Math.round(100*parseFloat(e.salaryCapacity))]},{label:"min_deferred_x100",value:["int64",Math.round(parseFloat(e.salaryDeferred))]}];e.url&&n.push({label:"url",value:["string",e.url]});const a=[{account:this.$config.contracts.dao,name:"propose",data:{proposer:t.accounts.account,proposal_type:"role",content_groups:[n]}}];return this.$api.signTransaction(a)},Po=async function({rootState:t},e){const n=[{account:this.$config.contracts.dao,name:"propsuspend",data:{scope:"role",proposer:t.accounts.account,id:e}}];return this.$api.signTransaction(n)},So=async function({commit:t},{first:e,offset:n}){const a='\n  query proposals($first:int, $offset: int) {\n    var(func: has(proposal)) {\n      proposals as proposal @cascade{\n        content_groups {\n          contents  @filter(eq(label,"type") and eq(value, "role")){\n            label\n            value\n          }\n        }\n      }\n    }\n    proposals(func: uid(proposals), orderdesc:created_date, first: $first, offset: $offset) {\n      hash\n      creator\n      created_date\n      ownedby {\n        content_groups {\n          expand(_all_) {\n            expand(_all_)\n          }\n        }\n      }\n      content_groups {\n        expand(_all_) {\n          expand(_all_)\n        }\n      }\n    }\n  }\n  ',o=await this.$dgraph.newTxn().queryWithVars(a,{$first:""+e,$offset:""+n});return t("addProposals",o.data.proposals),0===o.data.proposals.length},Do=async function({commit:t},{first:e,offset:n}){const a="\n  query roles($first:int, $offset: int) {\n    var(func: has(role)){\n      roles as role{}\n    }\n    roles(func: uid(roles), orderdesc:created_date, first: $first, offset: $offset){\n      hash\n      creator\n      created_date\n      content_groups{\n        expand(_all_){\n          expand(_all_)\n        }\n      }\n    }\n  }",o=await this.$dgraph.newTxn().queryWithVars(a,{$first:""+e,$offset:""+n});return t("addRoles",o.data.roles),0===o.data.roles.length},ko=async function(t,e){const n="\n    query role($hash:string){\n      role(func: eq(hash, $hash)) {\n        hash\n        creator\n        created_date\n        content_groups{\n          expand(_all_){\n            expand(_all_)\n          }\n        }\n      }\n    }\n  ",a=await this.$dgraph.newTxn().queryWithVars(n,{$hash:e});return a.data.role.length?a.data.role[0]:null};var qo={namespaced:!0,state:go,getters:E,mutations:F,actions:B},Io=()=>({search:null});n("498a");const Ro=({search:t})=>t&&t.toLowerCase().trim(),Co=({search:t})=>t,Uo=(t,e)=>{t.search=e},Lo=t=>{t.search=null};var Oo={namespaced:!0,state:Io,getters:W,mutations:j},No=()=>({ballots:[],lastVote:{vote:null,proposalId:null}});const Vo=({ballots:t})=>t,Eo=({ballots:t})=>e=>t.find((t=>t.ballot_id===e)),Fo=({lastVote:t})=>t,Bo=(t,e)=>{for(const n of e)t.ballots.some((t=>t.ballot_id===n.ballot_id))||t.ballots.push(n)},Wo=(t,e)=>{for(const n of e){const e=t.ballots.findIndex((t=>t.reference_id===n.prop_id)),a=t.ballots[e];t.ballots[e]=ot()(ot()({},a),n)}},jo=t=>{t.ballots=[...t.ballots]},Mo=(t,e)=>{t.lastVote=e},Ho=async function({commit:t},e){const n=await this.$api.getTableRows({code:this.$config.contracts.decide,scope:this.$config.contracts.decide,table:"ballots",limit:1,lower_bound:e,upper_bound:e});return n.rows.length&&n.rows[0]},Jo=async function(){const t=await this.$api.getTableRows({code:this.$config.contracts.decide,scope:this.$config.contracts.decide,table:"treasuries",lower_bound:"LIGHT",upper_bound:"LIGHT"});return t&&t.rows.length?t.rows[0].supply:0},Go=async function({rootState:t,commit:e},{id:n,vote:a,proposalId:o}){const s=[{account:this.$config.contracts.decide,name:"castvote",data:{voter:t.accounts.account,ballot_name:n,options:[a]}}],r=await this.$api.signTransaction(s);return r&&e("setLastVote",{vote:a,proposalId:o}),r},zo=async function(t,{user:e,ballot:n}){const a=await this.$api.getTableRows({code:this.$config.contracts.decide,scope:n,table:"votes",lower_bound:e,upper_bound:e});return a&&a.rows.length?a.rows[0].weighted_votes.length&&a.rows[0].weighted_votes[0].key:null};var Ko={namespaced:!0,state:No,getters:M,mutations:H,actions:J},Qo=function(){return{}},Yo=n("318a"),Zo=n("265f");const Xo=async function(){const t={husd:0,hypha:0,seeds:0};let e=await this.$api.getTableRows({code:this.$config.contracts.husdToken,scope:"HUSD",table:"stat",limit:1});if(e&&e.rows&&e.rows.length){const n=e.rows[0];n&&(t.husd=parseFloat(n.supply))}if(e=await this.$api.getTableRows({code:this.$config.contracts.hyphaToken,scope:"HYPHA",table:"stat",limit:1}),e&&e.rows&&e.rows.length){const n=e.rows[0];n&&(t.hypha=parseFloat(n.supply))}if(e=await this.$api.getTableRows({code:this.$config.contracts.seedsToken,scope:"SEEDS",table:"stat",limit:1}),e&&e.rows&&e.rows.length){const n=e.rows[0];n&&(t.seeds=parseFloat(n.supply))}return t},ts=async function(){const t=[];let e=!0;while(e){const n={code:this.$config.contracts.treasury,scope:this.$config.contracts.treasury,table:"redemptions",limit:1e3};t.length&&(n.lower_bound=t[t.length-1].id+1);const a=await this.$api.getTableRows(n);a.rows.length&&t.push(...a.rows.map((t=>ot()(ot()({},t),{},{payments:[],attestations:[],amountPaid:0,amountPaidCurrency:""})))),e=a.more}const n=[];e=!0;while(e){const t={code:this.$config.contracts.treasury,scope:this.$config.contracts.treasury,table:"payments",limit:1e3};n.length&&(t.lower_bound=n[n.length-1].id+1);const a=await this.$api.getTableRows(t);a.rows.length&&n.push(...a.rows),e=a.more}for(const a of n){const e=t.find((t=>t.redemption_id===a.redemption_id));if(e){e.payments.push(a),e.amountPaid+=parseFloat(a.amount_paid),e.amountPaidCurrency=a.amount_paid.split(" ")[1];for(const t of a.attestations)e.attestations.some((e=>e.key===t.key))||e.attestations.push(t)}}return t},es=async function(){const t=await this.$api.getTableRows({code:this.$config.contracts.treasury,scope:this.$config.contracts.treasury,table:"treasurers",limit:1e3});return t.rows},ns=async function({rootState:t},{id:e,amount:n,network:a,trxId:o,comment:s}){const r=[{account:this.$config.contracts.treasury,name:"newpayment",data:{treasurer:t.accounts.account,redemption_id:e,amount:n,notes:[{key:"network",value:a},{key:"trx_id",value:o},{key:"comment",value:s}]}}];return this.$api.signTransaction(r)},as=async function({rootState:t},{redemptionId:e,amount:n,paymentId:a,comment:o}){const s=[{account:this.$config.contracts.treasury,name:"attestpaymnt",data:{treasurer:t.accounts.account,redemption_id:e,payment_id:a,amount:n,notes:[{key:"comment",value:o}]}}];return this.$api.signTransaction(s)};var os={namespaced:!0,state:Qo,getters:Yo,mutations:Zo,actions:G};z["a"].use(it["a"]);var ss=new it["a"].Store({modules:{accounts:Gt,applicants:ne,assignments:_e,badges:We,ballots:nn,documentsProposal:cn,layout:An,members:Ln,notifications:Zn,objects:aa,payments:ya,payouts:La,periods:Ja,profiles:mo,roles:qo,search:Oo,trail:Ko,treasury:os,multiSig:Hn},strict:!1});z["a"].config.devtools=!0;var rs=n("8c4f");const is=[{path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,"713b")),children:[{path:"/",component:()=>Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,"54d6"))},{path:"/welcome",component:()=>Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"d551")),meta:{single:!0}},{path:"/login",component:()=>Promise.all([n.e(0),n.e(1),n.e(14)]).then(n.bind(null,"e651")),meta:{single:!0}},{path:"/register",component:()=>Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,"1259")),meta:{single:!0}},{path:"/dashboard",component:()=>Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,"54d6"))},{path:"/alert-manager",component:()=>Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,"ab75"))},{path:"/members/add",component:()=>Promise.all([n.e(0),n.e(1),n.e(19)]).then(n.bind(null,"fdd9"))},{path:"/members/add/success",component:()=>Promise.all([n.e(0),n.e(20)]).then(n.bind(null,"4119"))},{path:"/members",component:()=>Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,"b419"))},{path:"/applicants",component:()=>Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,"086c"))},{path:"/@:username",component:()=>Promise.all([n.e(0),n.e(1),n.e(17)]).then(n.bind(null,"4ecd"))},{path:"/@:username/edit",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"d2b4"))},{path:"/wallet",component:()=>Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,"f51a"))},{path:"/roles",component:()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"a910"))},{path:"/raw/:scope?/:id?",component:()=>Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,"2f45"))},{path:"/treasury",component:()=>Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,"ba2a"))},{path:"/multi-sig",component:()=>Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,"30ef"))},{path:"/documents-proposal/:type/:user?",component:()=>Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,"2e01"))},{path:"/documents/:type/:user?",component:()=>Promise.all([n.e(0),n.e(1),n.e(6)]).then(n.bind(null,"fa6d"))}]}];is.push({path:"*",component:()=>n.e(18).then(n.bind(null,"e51e"))});var cs=is;z["a"].use(rs["a"]);var ls=function(){const t=new rs["a"]({scrollBehavior:()=>({x:0,y:0}),routes:cs,mode:"hash",base:""});return t},us=async function(){const t="function"===typeof ss?await ss({Vue:z["a"]}):ss,e="function"===typeof ls?await ls({Vue:z["a"],store:t}):ls;t.$router=e;const n={router:e,store:t,render:t=>t(_t),el:"#q-app"};return{app:n,store:t,router:e}},ds=n("9483");Object(ds["a"])("service-worker.js",{ready(){},registered(t){},cached(t){},updatefound(t){},updated(t){localStorage.setItem("refreshNotif",!0)},offline(){},error(t){}});var ps=n("bc3a"),fs=n.n(ps);const hs=fs.a.create({baseURL:"https://dev.api.telosapi.com",headers:{"Content-Type":"application/json","x-api-key":"79Jvb2sDa87nGfxEYYxoQ3c22ZzjefQb3VNgUIX1"}});hs.interceptors.response.use((t=>t.data||{}),(t=>({status:t.response.status,error:t.response.data})));var ms=({Vue:t,store:e})=>{t.prototype.$accountApi=hs,e["$accountApi"]=hs,e["$axios"]=fs.a.create()},gs=({Vue:t})=>{t.mixin({methods:{breadcrumbsTweak(){const t=105;return{minHeight:t?`calc(100vh - ${t}px)`:"100vh"}}}})},bs=(n("4e82"),n("4194")),ys=n.n(bs);const vs=async function(t){t.forEach((t=>{t.authorization&&t.authorization.length||(t.authorization=[{actor:this.state.accounts.account,permission:"active"}])}));let e=null,n=null;try{if("ual"===this.$type){const n=await this.$ualUser.signTransaction({actions:t},{blocksBehind:3,expireSeconds:30});e=n.transactionId}else if("inApp"===this.$type){const n=await this.$inAppUser.transact({actions:t},{blocksBehind:3,expireSeconds:30});e=n.transaction_id}else"object"===typeof window.LightWalletChannel&&(e=await this.$lightWallet.sendTransaction(t))}catch(a){n="inApp"===this.$type?a.message:a.cause.message,console.error(n),console.error(t),this.$sentry.setExtra("actions",JSON.stringify(t)),this.$sentry.setExtra("error",n),this.$sentry.captureException(a)}return this.commit("notifications/addNotification",{transactionId:e,actions:t,error:n},{root:!0}),null===n},ws=async function(t){return"ual"===this.$type?this.$ualUser.rpc.get_table_rows(ot()({json:!0},t)):"inApp"===this.$type?this.$inAppUser.rpc.get_table_rows(ot()({json:!0},t)):this.$defaultApi.rpc.get_table_rows(ot()({json:!0},t))},_s=async function(t){return"ual"===this.$type?this.$ualUser.rpc.get_account(t):"inApp"===this.$type?this.$inAppUser.rpc.get_account(t):this.$defaultApi.rpc.get_account(t)};var $s=async({store:t})=>{window.TextEncoder||(window.TextEncoder=ys.a.TextEncoder),window.TextDecoder||(window.TextDecoder=ys.a.TextDecoder);const e=await Ts();t["$apiUrl"]=e;const n=new Lt["JsonRpc"](e);t["$defaultApi"]=new Lt["Api"]({rpc:n,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),t["$api"]={signTransaction:vs.bind(t),getTableRows:ws.bind(t),getAccount:_s.bind(t)}};const Ts=async()=>{const t=[];for(const n of"https://testnet.telos.caleos.io".split(","))t.push(As(n));const e=await Promise.all(t);return e.sort(((t,e)=>t.time-e.time)),e[0].url},As=async t=>{const e=Date.now();try{await fs.a.get(`${t}/v2/health`,{timeout:5e3})}catch(n){return{time:5e4,url:t}}return{time:Date.now()-e,url:t}};var xs=n("b9da"),Ps=n("1182"),Ss=n("6a24"),Ds=n("5373"),ks=async({Vue:t,store:e})=>{const n={chainId:"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f",rpcEndpoints:[{protocol:"https",host:e["$apiUrl"].replace("https://",""),port:443}]},a=new Ds["Sqrl"]([n],{appName:"Hypha DAO"});a.ualName="sqrl";const o=new Ps["Anchor"]([n],{appName:"Hypha DAO"});o.ualName="anchor";const s=new Ss["Scatter"]([n],{appName:"Hypha DAO"});s.ualName="scatter";const r=[o,a,s],i=new xs["UAL"]([n],"Hypha DAO",r);e["$ual"]=i,t.prototype.$ual=i},qs=n("c8de"),Is=({store:t})=>{const e=new qs["DgraphClientStub"]("https://dgraph.lightfood.earth",!1);t["$dgraph"]=new qs["DgraphClient"](e)},Rs=async({Vue:t,store:e})=>{const n={dao:"lightfoodsc1",decide:null,hyphaToken:null,seedsToken:null,seedsEscrow:null,tlostoSeeds:"tlosto.seeds"},a="\n    query document($hash:string){\n      document(func: eq(hash, $hash)) {\n        hash\n        settings {\n          expand(_all_){\n            expand(_all_) {\n              expand(_all_)\n            }\n          }\n        }\n        content_groups{\n          expand(_all_){\n            expand(_all_)\n          }\n        }\n      }\n    }\n  ",o=await e.$dgraph.newTxn().queryWithVars(a,{$hash:"efcbafa2a6b6138a90ea3a44528e47e1251be83c7895b33a1f4a4f8cd53e4441".toUpperCase()});let s;o&&o.data.document[0]&&o.data.document[0].settings[0].content_groups.forEach((t=>{t.contents.some((t=>"content_group_label"===t.label&&"settings"===t.value))&&(s=t.contents)})),s&&(n.decide=s.find((t=>"telos_decide_contract"===t.label)).value,n.hyphaToken=s.find((t=>"hypha_token_contract"===t.label)).value,n.hyphaMultiplier=parseInt(s.find((t=>"hypha_deferral_factor_x100"===t.label)).value)/100,n.husdToken=s.find((t=>"husd_token_contract"===t.label)).value,n.seedsToken=s.find((t=>"seeds_token_contract"===t.label)).value,n.seedsEscrow=s.find((t=>"seeds_escrow_contract"===t.label)).value,n.seedsMultiplier=parseInt(s.find((t=>"seeds_deferral_factor_x100"===t.label)).value)/100,n.treasury=s.find((t=>"treasury_contract"===t.label)).value);const r='\n    {\n      documents as var(func: type(Document))@cascade{\n        hash\n        content_groups {\n          contents  @filter(eq(value,"period") and eq(type, "name")){\n            label\n            type\n          }\n        }\n      }\n      documents(func: uid(documents)) {\n        hash\n        content_groups {\n            expand(_all_) {\n            expand(_all_)\n          }\n        }\n      }\n    }\n  ',i=await e.$dgraph.newTxn().query(r);if(i){const t=[];i.data.documents.filter((t=>t.content_groups[0].contents.some((t=>"period"===t.value))||t.content_groups[1].contents.some((t=>"period"===t.value)))).forEach((e=>{let n;e.content_groups.forEach((t=>{t.contents.some((t=>"content_group_label"===t.label&&"details"===t.value))&&(n=t.contents)})),n&&(t.push({value:e.hash,label:`${new Date(n.find((t=>"start_time"===t.label)).value+"Z").toDateString()}`,phase:n.find((t=>"label"===t.label)).value,startDate:new Date(n.find((t=>"start_time"===t.label)).value+"Z"),endDate:new Date}),t.length>1&&(t[t.length-2].endDate=t[t.length-1].startDate))})),t.sort(((t,e)=>t.startDate.getTime()-e.startDate.getTime())),e.commit("periods/setPeriods",t)}const c=await e.$api.getTableRows({code:"tlosto.seeds",scope:"tlosto.seeds",table:"config"});if(c&&c.rows.length){const t=parseFloat(c.rows[0].seeds_per_usd),n=1/t;e.commit("payouts/setSeedsValues",{usdToSeeds:t,seedsToUsd:n},{root:!0})}t.prototype.$config={contracts:n},e["$config"]={contracts:n}},Cs=n("6629"),Us=n.n(Cs),Ls=async({store:t})=>{Us.a.configure("test"),t["$ppp"]=Us.a},Os=n("2896"),Ns=n.n(Os),Vs=({Vue:t})=>{t.use(Ns.a)},Es=n("6fe2"),Fs=n("9523"),Bs=n.n(Fs);class Ws{constructor(){Bs()(this,"resolveChannelResponse",Function())}waitChannelResponse(){return new Promise(function(t){this.resolveChannelResponse=t}.bind(this))}login(){const t=this.waitChannelResponse();return window.LightWalletChannel.postMessage(JSON.stringify({messageType:"login",callbackName:"resolveChannelResponse"})),t}sendTransaction(t){const e=this.waitChannelResponse();return window.LightWalletChannel.postMessage(JSON.stringify({messageType:"sendTransaction",callbackName:"resolveChannelResponse",actions:JSON.stringify(t)})),e}}var js=async({Vue:t,store:e})=>{const n=new Ws;e["$lightWallet"]=n,t.prototype.$lightWallet=n,window.LightWallet=n},Ms=n("4b46");/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&n.e(0).then(n.t.bind(null,"a0db",7));const Hs="";async function Js(){const{app:t,store:e,router:n}=await us();let a=!1;const o=t=>{a=!0;const e=Object(t)===t?n.resolve(t).route.fullPath:t;window.location.href=e},s=window.location.href.replace(window.location.origin,""),r=[ms,gs,$s,ks,Is,Rs,Ls,Vs,Es["a"],js,Ms["default"]];for(let c=0;!1===a&&c<r.length;c++)if("function"===typeof r[c])try{await r[c]({app:t,router:n,store:e,Vue:z["a"],ssrContext:null,redirect:o,urlPath:s,publicPath:Hs})}catch(i){return i&&i.url?void(window.location.href=i.url):void console.error("[Quasar] boot error:",i)}!0!==a&&new z["a"](t)}Js()},3:function(t,e){},"318a":function(t,e){},"31a3":function(t,e){},"35ae":function(t,e){},"386c":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o}));const a=(t,e,n)=>{const a=t.content_groups.find((t=>t.contents.some((t=>"content_group_label"===t.label&&t.value===e))));if(a&&a.contents.length){const t=a&&a.contents.find((t=>t.label===n));return t&&"int64"===t.type?parseInt(t.value):t&&t.value}return null},o={methods:{getValue:a,openUrl(t){window.open(t)}}}},4:function(t,e){},5:function(t,e){},5711:function(t,e){},6:function(t,e){},"6e4f":function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"addNotification",(function(){return r})),n.d(e,"unmarkRead",(function(){return i})),n.d(e,"clearNotifications",(function(){return c})),n.d(e,"initNotifications",(function(){return l}));var a=n("ded3"),o=n.n(a),s=(n("ddb0"),n("2a19"));const r=(t,{transactionId:e,actions:n,error:a})=>{t.notifications=[...t.notifications].concat(o()(o()({},u(n)),{},{transactionId:e,status:a?"error":"success",error:a,read:!1,id:Math.round(1e8*Math.random())})),null===a?(t.successCount+=1,s["a"].create({color:"green",message:"Transaction processing, please refresh screen.",position:"bottom",icon:"fas fa-spinner fa-spin notif-icon",timeout:1e4,actions:[{label:"Dismiss",color:"white",handler:()=>{}}]})):(t.errorCount+=1,s["a"].create({color:"red",message:"Transaction error, please check the console.",position:"bottom",timeout:1e4,actions:[{label:"Dismiss",color:"white",handler:()=>{}}]})),localStorage.setItem("notifications",JSON.stringify(t.notifications))},i=t=>{t.successCount=0,t.errorCount=0;const e=JSON.parse(localStorage.getItem("notifications"))||[];e.forEach((t=>{t.read=!0})),t.notifications=e,localStorage.setItem("notifications",JSON.stringify(e))},c=t=>{t.notifications=[],t.successCount=0,t.errorCount=0,localStorage.removeItem("notifications")},l=t=>{if(!localStorage)return;const e=localStorage.getItem("notifications");e&&(t.notifications=JSON.parse(e),t.successCount=t.notifications.filter((t=>!t.read&&"success"===t.status)).length,t.errorCount=t.notifications.filter((t=>!t.read&&"error"===t.status)).length)},u=e=>{const n=e[0],a=`${n.account}_${n.name}`;switch(a){case"lightfoodsc1_create":return{icon:"fa fa-lightbulb",title:"Submit a proposal",content:n.data.strings.find((t=>"title"===t.key)).value};case`${t.env.DAOCONTRACT}_closeprop`:return{icon:"fas fa-window-close",title:"Closing a proposal",content:n.data.type};case"trailservice_castvote":return{icon:"fas fa-person-booth",title:"Vote on a proposal",content:`${n.data.voter} voted ${n.data.options[0]}`};default:return{icon:"fas fa-rss",title:a,content:JSON.stringify(n.data)}}}}.call(this,n("4362"))},"6fe2":function(t,e,n){"use strict";(function(t){n("e6cf");var a=n("dc21"),o=n("5921"),s=n("e594");e["a"]=async({Vue:e,store:n})=>{a["e"]({dsn:"",integrations:[new s["a"]({Vue:e,attachProps:!0,logErrors:!1})],environment:t.env.CI_ENVIRONMENT_NAME,release:t.env.CI_COMMIT_SHORT_SHA}),e.prototype.$sentry=o,n["$sentry"]=o}}).call(this,n("4362"))},7:function(t,e){},"7e6d":function(t,e,n){},"7faf":function(t,e,n){"use strict";n("98d5")},8:function(t,e){},9:function(t,e){},9048:function(t,e,n){},"98d5":function(t,e,n){},"9c98":function(t,e){},a1d2:function(t,e){},c677:function(t,e,n){"use strict";n("9048")},f18f:function(t,e){},f2df:function(t,e){}});